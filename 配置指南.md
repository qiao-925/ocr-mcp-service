# OCR MCP服务配置指南

本指南详细说明如何在Cursor中配置和使用OCR MCP服务。

## 📋 前置要求

### 系统要求
- Python 3.8 或更高版本
- Windows / macOS / Linux

### Python依赖
确保已安装所有必需的Python包（见`requirements.txt`）。

## 🔧 安装步骤

### 1. 安装Python依赖

在项目根目录执行：

```bash
pip install -r requirements.txt
```

**首次安装说明**：
- PaddleOCR首次运行会自动下载模型文件（约100MB）
- 下载过程可能需要几分钟，请耐心等待
- 模型文件会缓存在用户目录，后续启动会更快

### 2. 验证安装

测试MCP服务器是否能正常启动：

```bash
python mcp_ocr_server.py
```

如果看到服务器启动信息（无错误），说明安装成功。按`Ctrl+C`退出。

## ⚙️ Cursor配置

### 方法1：通过Cursor设置界面配置

1. 打开Cursor设置（`Ctrl+,` 或 `Cmd+,`）
2. 搜索"MCP"或"Model Context Protocol"
3. 找到MCP服务器配置选项
4. 添加新的服务器配置

### 方法2：直接编辑配置文件

#### Windows系统

配置文件位置：
```
%APPDATA%\Cursor\User\globalStorage\rooveterinaryinc.roo-cline\settings\cline_mcp_settings.json
```

或者：
```
%USERPROFILE%\.cursor\mcp_settings.json
```

#### macOS系统

配置文件位置：
```
~/Library/Application Support/Cursor/User/globalStorage/rooveterinaryinc.roo-cline/settings/cline_mcp_settings.json
```

或者：
```
~/.cursor/mcp_settings.json
```

#### Linux系统

配置文件位置：
```
~/.config/Cursor/User/globalStorage/rooveterinaryinc.roo-cline/settings/cline_mcp_settings.json
```

或者：
```
~/.cursor/mcp_settings.json
```

### 配置内容

在配置文件中添加以下内容（请替换为实际路径）：

```json
{
  "mcpServers": {
    "ocr-service": {
      "command": "python",
      "args": [
        "/path/to/mcp_ocr_server.py"
      ],
      "env": {
        "PYTHONPATH": "/path/to/ocr-mcp-service"
      }
    }
  }
}
```

**重要提示**：
- 使用**绝对路径**，不要使用相对路径
- Windows路径使用正斜杠`/`或双反斜杠`\\`
- 确保Python在系统PATH中，或使用完整路径（如`C:/Python39/python.exe`）

## ✅ 验证配置

1. **保存配置文件**
2. **重启Cursor**（完全关闭并重新打开）
3. **测试OCR功能**：
   - 在对话中提供一张包含文字的图片
   - 要求AI识别图片中的文字
   - 如果AI能够自动调用OCR工具，说明配置成功

## 🔍 常见问题排查

详见配置指南文档。

## 🔗 相关文档

- [使用指南.md](./使用指南.md) - 功能说明和使用场景
- [README.md](./README.md) - 项目概述

