---
description: Agent 全局上下文任务追踪日志使用规则 - 全局规则，自动应用到所有文件
alwaysApply: true
---

# Agent 全局上下文任务追踪日志规则

## 📋 文件位置

任务追踪日志文件位于：`docs/# 📋 Agent 全局上下文任务追踪日志.md`

## 🎯 使用目的

此文件用于：
- 为 Agent 提供项目全局上下文和开发历史
- 追踪项目活动、决策和变更
- 记录测试结果、问题和解决方案
- 管理待处理事项

## 📝 更新规则

### 何时更新

1. **完成重要任务后**：立即在"🔥 最新动态"部分顶部添加记录
2. **做出关键决策时**：记录决策内容和原因
3. **测试完成后**：记录测试结果、数据和结论
4. **修复问题后**：记录问题描述和解决方案
5. **创建或修改重要文件后**：记录文件路径和变更内容

### 如何更新

1. **时间戳格式**：
   - 精确时间：`[YYYY-MM-DD HH:MM]`
   - 日期：`[YYYY-MM-DD]`

2. **记录位置**：
   - 新活动：添加到"🔥 最新动态"部分的最顶部
   - 完成事项：移动到"✅ 最近完成"或相应分类
   - 待办事项：添加到"📋 待处理事项"

3. **分类原则**：
   - 🔥 最新动态：最近的重要活动和发现
   - 📦 项目改进：功能增强、架构优化、代码重构
   - 🧪 测试相关：测试用例、测试结果、测试修复
   - 📚 文档和分析：文档创建、更新、分析报告
   - 🛠️ 脚本和工具：脚本创建、工具开发
   - 🏗️ 项目结构：目录调整、文件组织
   - 🔧 代码简化：代码清理、功能移除
   - 🎨 功能实现：新功能开发、功能集成

4. **记录格式**：
   ```
   - [时间戳] 简要标题
     - 💡 关键信息
     - 📝 文件路径：`path/to/file`
     - ✅ 结果或状态
     - ⚠️ 注意事项
   ```

5. **内容要求**：
   - 记录关键决策和原因
   - 记录测试结果和数据（时间、置信度、文本长度等）
   - 记录文件变更和路径
   - 记录问题和解决方案
   - 保持简洁，避免冗余
   - 使用 emoji 增强可读性

## 🔍 使用指南

### Agent 应该：

1. **开始任务前**：查看任务追踪日志了解项目状态和历史
2. **完成任务后**：立即更新日志，记录关键信息
3. **遇到问题时**：查看日志中是否有类似问题的解决方案
4. **做出决策时**：在日志中记录决策内容和原因

### Agent 不应该：

1. 在日志中记录过于详细的技术细节（应放在代码注释或技术文档中）
2. 重复记录相同的信息
3. 忘记更新日志（重要活动必须记录）
4. 使用不一致的时间戳格式

## 📊 示例

### 好的记录示例：

```
- [2025-01-27 23:30] 探讨OCR服务多种使用方式方案
  - 💡 讨论主题：除了MCP协议外，如何让用户通过其他方式使用OCR工具
  - 📝 创建方案文档：`docs/多种使用方式方案探讨.md`
  - 🎯 提出5种方案：CLI工具、REST API、Python库、Web界面、桌面应用
  - ⭐ 推荐优先级：CLI工具 > REST API > Python库 > Web界面 > 桌面应用
  - 🔥 建议实施路线：第一阶段完善CLI和Python库，第二阶段实现REST API
```

### 不好的记录示例：

```
- 今天做了很多工作
- 修复了一些bug
- 更新了代码
```

## ⚠️ 重要提示

1. **必须更新**：完成重要任务后必须更新日志
2. **及时更新**：不要等到任务结束后才更新，重要节点就记录
3. **保持准确**：确保记录的信息准确无误
4. **定期整理**：定期将旧记录归档，保持文件可读性
5. **最后更新**：每次更新后，更新文件底部的"最后更新"日期
